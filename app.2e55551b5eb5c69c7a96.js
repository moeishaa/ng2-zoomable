webpackJsonp([1],{348:function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var p=e.length-1;p>=0;p--)(n=e[p])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(139),s=i(354),p=i(353),h=function(){function e(){}return e}();h=o([n.NgModule({imports:[r.BrowserModule],declarations:[p.AppComponent,s.ZoomableDirective],bootstrap:[p.AppComponent]})],h),t.AppModule=h},353:function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var p=e.length-1;p>=0;p--)(n=e[p])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),r=i(874),s=i(875),p=function(){function e(){this.imageSource1=r,this.imageSource2=s}return e}();p=o([n.Component({selector:"my-app",styles:["\n    img {\n      display: block;\n    }\n\n    .img1 {\n      width: 400px;\n      height: 274px;\n    }\n\n    .img2 {\n      margin-top: 20px;\n      width: 388px;\n      height: 580px;\n    }\n  "],template:"\n    <img [zoomable]='zoomOptions' [zoomableSrc]='imageSource1' [src]='imageSource1' class='img1'>\n    <img [zoomable]='zoomOptions' [src]='imageSource2' class='img2'>\n  "})],p),t.AppComponent=p},354:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(876))},443:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(140),n=i(348);o.platformBrowserDynamic().bootstrapModule(n.AppModule)},874:function(e,t,i){e.exports=i.p+"ea4d3a0acdd348c93c9a718ba520cf9a.jpg"},875:function(e,t,i){e.exports=i.p+"1830491e74014eef6dc0123f2f89654c.jpg"},876:function(e,t,i){"use strict";var o=this&&this.__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var p=e.length-1;p>=0;p--)(n=e[p])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var r=i(2),s=function(){function e(e,t){this.el=e,this.renderer=t,this.listeners=[],this.options={hoverView:{background:"transparent none",position:"absolute",zIndex:"999"},peepView:{borderColor:"#fff",borderWidth:"2px",borderStyle:"solid",cursor:"zoom-in",position:"fixed"},zoomView:{position:"absolute",zIndex:"999"},settings:{zoom:4,gap:20}},this.sourceImage=""}return e.prototype.onMouseEnter=function(){this.imgRect=this.el.nativeElement.getBoundingClientRect(),this.createHoverView(),this.updateHoverViewPosition(),this.positionHoverView(),this.styleHoverView(),this.assignHoverListeners()},e.prototype.ngOnInit=function(){var e=this.customOptions||{},t=e.peepView,i=void 0===t?{}:t,o=e.zoomView,n=void 0===o?{}:o,r=e.settings,s=void 0===r?{}:r;Object.assign(this.options.peepView,i),Object.assign(this.options.zoomView,n),Object.assign(this.options.settings,s)},e.prototype.createHoverView=function(){this.hoverView=this.renderer.createElement(this.el.nativeElement.parentNode,"div")},e.prototype.createPeepView=function(){this.peepView=this.renderer.createElement(this.hoverView,"div")},e.prototype.createZoomView=function(){this.zoomView=this.renderer.createElement(this.el.nativeElement.parentNode,"div")},e.prototype.assignHoverListeners=function(){var e=this;this.listeners.push(this.renderer.listen(this.hoverView,"mouseenter",function(t){e.createPeepView(),e.stylePeepView(),e.positionPeepView(t),e.createZoomView(),e.styleZoomView(),e.positionZoomView()}),this.renderer.listen(this.hoverView,"mouseleave",function(){return e.destroyViews()}),this.renderer.listen(this.hoverView,"mousemove",function(t){e.positionPeepView(t),e.positionZoomBackground(t)}))},e.prototype.styleHoverView=function(){var e=this;Object.keys(this.options.hoverView).forEach(function(t){e.renderer.setElementStyle(e.hoverView,t,e.options.hoverView[t])})},e.prototype.stylePeepView=function(){var e=this,t=this.getPeepViewDimensions(),i=Object.assign({width:t.width+"px",height:t.height+"px"},this.options.peepView);Object.keys(i).forEach(function(t){e.renderer.setElementStyle(e.peepView,t,i[t])})},e.prototype.styleZoomView=function(){var e=this;Object.keys(this.options.zoomView).forEach(function(t){e.renderer.setElementStyle(e.zoomView,t,e.options.zoomView[t])})},e.prototype.updateHoverViewPosition=function(){this.hoverViewPosition={top:this.imgRect.top+window.scrollY,left:this.imgRect.left+window.scrollX,width:this.imgRect.width,height:this.imgRect.height}},e.prototype.positionHoverView=function(){var e=this;Object.keys(this.hoverViewPosition).forEach(function(t){e.renderer.setElementStyle(e.hoverView,t,e.hoverViewPosition[t]+"px")})},e.prototype.getPeepViewDimensions=function(){return{width:Math.round(this.imgRect.width/this.options.settings.zoom),height:Math.round(this.imgRect.height/this.options.settings.zoom)}},e.prototype.getPeepViewCoords=function(e){var t=this.getPeepViewDimensions(),i=e.clientX,o=e.clientY,n=2*parseInt(this.options.peepView.borderWidth,10),r=Math.max(this.imgRect.top,o-t.height/2-n),s=Math.max(this.imgRect.left,i-t.width/2-n);return{top:Math.min(r,this.imgRect.bottom-t.height-n),left:Math.min(s,this.imgRect.right-t.width-n)}},e.prototype.positionPeepView=function(e){var t=this.getPeepViewCoords(e);this.renderer.setElementStyle(this.peepView,"top",t.top+"px"),this.renderer.setElementStyle(this.peepView,"left",t.left+"px")},e.prototype.positionZoomView=function(){var e=this,t=Object.assign({},this.hoverViewPosition,{left:this.hoverViewPosition.left+this.imgRect.width+this.options.settings.gap});Object.keys(t).forEach(function(i){e.renderer.setElementStyle(e.zoomView,i,t[i]+"px")})},e.prototype.positionZoomBackground=function(e){var t=this.getPeepViewCoords(e),i=this.options.settings.zoom,o=this.imgRect.width*i,n=this.imgRect.height*i,r=this.sourceImage||this.el.nativeElement.getAttribute("src"),s=Math.max(0,(t.left+window.scrollX-this.hoverViewPosition.left)/this.imgRect.width),p=Math.max(0,(t.top+window.scrollY-this.hoverViewPosition.top)/this.imgRect.height);this.renderer.setElementStyle(this.zoomView,"backgroundImage",'url("'+r+'")'),this.renderer.setElementStyle(this.zoomView,"backgroundPosition","-"+s*o+"px -"+p*n+"px"),this.renderer.setElementStyle(this.zoomView,"backgroundSize",o+"px "+n+"px")},e.prototype.destroyViews=function(){for(var e=0,t=this.listeners;e<t.length;e++){(0,t[e])()}this.listeners=[],this.hoverView.parentNode.removeChild(this.hoverView),this.zoomView.parentNode.removeChild(this.zoomView),this.hoverView=null,this.zoomView=null},e}();o([r.Input("zoomable"),n("design:type",Object)],s.prototype,"customOptions",void 0),o([r.Input("zoomableSrc"),n("design:type",Object)],s.prototype,"sourceImage",void 0),o([r.HostListener("mouseenter"),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],s.prototype,"onMouseEnter",null),s=o([r.Directive({selector:"[zoomable]"}),n("design:paramtypes",[r.ElementRef,r.Renderer])],s),t.ZoomableDirective=s}},[443]);